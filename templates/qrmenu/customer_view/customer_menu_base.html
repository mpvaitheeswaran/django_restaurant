{%load static%}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="{%static 'lib/bootstrap/css/bootstrap.min.css'%}">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
    <link rel="stylesheet"
    href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <!-- Animate css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Custom css -->
    <link rel="stylesheet" href="{%static 'css/customer_menu.css'%}">
    <link rel="stylesheet" href="{%static 'css/style.css'%}">
    <!-- sidebar -->
    <link rel="stylesheet" href="{%static 'css/menu_navbar.css'%}">
    <title>{%block title%}{%endblock%}</title>
</head>
<body>
    {%include 'qrmenu/customer_view/menu_navbar.html'%}
    
    {%block content%}
    {%endblock%}
    
    <!-- Jquery -->
    <script src="{%static 'lib/jquery/jquery-3.6.0.min.js'%}"></script>
    <!-- Bootstrap js -->
    <script src="{%static 'lib/bootstrap/js/bootstrap.min.js'%}"></script>
    {%block script%}
    {%endblock%}
     <!-- Navbar Script -->
     <script>
        document.addEventListener("DOMContentLoaded", function(event) {
  
          const showNavbar = (toggleId, navId) =>{
          const toggle = document.getElementById(toggleId),
          nav = document.getElementById(navId),
          toggle_icon = document.getElementById('toggle_icon');

          
          
          // Validate that all variables exist
          if(toggle && nav){
            toggle.addEventListener('click', ()=>{
                console.log('clicked')
                // show navbar
                nav.classList.toggle('show')
                // change icon
                toggle.classList.toggle('bx-x')
                //Change icon position
                toggle_icon.classList.toggle('menu')
            })
          }
          }
          showNavbar('header-toggle','nav-bar');         
          // Your code to run since DOM is loaded and ready
          });
    </script>

    <!-- Script for banner -->
    <script>
        $(document).ready(function(){
            $(this).scrollTop(0);
        });
        const banner = document.querySelector('.banner');
        const sticky_nav = document.getElementById('sticky_nav')
        const logo = document.getElementById('img_logo');
        const bg = document.getElementById('img_bg');
        window.addEventListener('scroll',(e)=>{
            let offset = window.pageYOffset;
            let captionOffset = logo.offsetTop;
            let offsetBottom  = banner.offsetHeight - sticky_nav.offsetHeight
            if(offset>captionOffset){
                //small banner
                sticky_nav.classList.add('sticky');
                if(offset<offsetBottom){
                    sticky_nav.classList.remove('sticky');
                }
            }else{  
                var opacityValue = (captionOffset - offset)/100;
                bg.style.opacity = opacityValue;
    
                
    
                offset = offset > 160 ? 160:offset;
                const scale = 1 - offset / 160 * .20;
                const x = offset /160 * 50
                logo.style.transform = `scale(${scale})`
                logo.style.transform += `translateX(${x}px)`
            }
        });
    </script>
</body>
</html>